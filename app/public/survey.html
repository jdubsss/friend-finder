<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>FriendFinder Survey Page</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>



	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

</head>

<body>

	<div class="container">
		<div>
			<h2>Personality Survey</h2>
			<br>
			<br>
			<h3>Please Enter Your Information</h3>
			<br>
			<h4>Name</h4>
		<input type="text" name="" id="name" class="form-control" required >

		<h4>Link to Photo Image</h4>
		<input type="text" name="" id="photo" class="form-control" required >

		<hr>

		<h3>Question 1</h3>
		<h3>I believe my life will truly begin when the right person or circumstances come along.</h3>
	 	<select class="form-control" id="question1">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>

		<h3>Question 2</h3>
		<h3>I feel best when I give unconditionally to others.</h3>
	 	<select class="form-control" id="question2">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<br>

		<h3>Question 3</h3>
		<h3>When I think about people in my life, I focus on those who have hurt or disappointed me.</h3>
	 	<select class="form-control" id="question3">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>

		<h3>Question 4</h3>
		<h3>When I think about people in my life, I focus on those I care about and love.</h3>
	 	<select class="form-control" id="question4">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>

		<h3>Question 5</h3>
		<h3>There is not enough time for taking care of me.</h3>
	 	<select class="form-control" id="question5">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>

		<h3>Question 6</h3>
		<h3>I've helped myself through difficult times with a strong positive attitude.</h3>
	 	<select class="form-control" id="question6">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>

		<h3>Question 7</h3>
		<h3>I take myself very, very seriously.</h3>
	 	<select class="form-control" id="question7">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>

		<h3>Question 8</h3>
		<h3>I believe it's up to me to live my life fully and find meaning.</h3>
	 	<select class="form-control" id="question8">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>
		
		<h3>Question 9</h3>
		<h3>When things don't go well, I feel trapped or overwhelmed.</h3>
	 	<select class="form-control" id="question9">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>

		<h3>Question 10</h3>
		<h3>Although life's circumstances change, my beliefs and capabilities will allow me to survive and thrive.</h3>
	 	<select class="form-control" id="question10">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>
		<br>

		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>

		<hr>
	    <footer class="footer">
	      <div class="container">
		  <p><a href="/api/friends">API Friends List</a> | <a href="git@github.com:lvanok/FriendFinder.git">GitHub Repo</a></p>
	      </div>
	    </footer>

	</div>

	<div id="resultsModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h2 class="modal-title">Best Match</h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchName"></h2>
	        <img id="matchImg" src="../assets/img_avatar.png" alt="">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>
	</div>




  <script type="text/javascript">

/*  	// Chosen CSS
    var config = {
      '.form-control'           : {},
      '.form-control-deselect'  : {allow_single_deselect:true},
      '.form-control-no-single' : {disable_search_threshold:10},
      '.form-control-no-results': {no_results_text:'Oops, nothing found!'},
      '.form-control-width'     : {width:"95%"}
    }
    for (var selector in config) {
      $(selector).chosen(config[selector]);
    }*/

    
$('#submit').on("click", function() {
	function formValidation() {
		var isValid = true;
		$('.form-control').each(function() {
			if ($(this).val()  === "") {
				isValid = false;
			}
		});
		return isValid;
	}

	if (formValidation()) {
		var userData =
			{
				name: $('#name').val(),
				photo: $('#photo').val(),
				scores: [
					$('#question1').val(),
					$('#question2').val(),
					$('#question3').val(),
					$('#question4').val(),
					$('#question5').val(),
					$('#question6').val(),
					$('#question7').val(),
					$('#question8').val(),
					$('#question9').val(),
					$('#question10').val(),
				]
			};

		var currentUrl = window.location.origin;

		$.post(currentUrl + "/api/friends", userData, function(data) {
	    		// Grab the result from the AJAX post so that the best match's name and photo are displayed.
	    		$("#matchName").text(data.name);
	    		$('#matchImg').attr("src", data.photo);
		    	// Show the modal when user clicks submit 
		    	$("#resultsModal").modal('toggle');
	    	});
			}
			else {
				alert("Please fill out all fields before submitting!");
			}
	    	return false;
	    });


  </script>


</body>
</html>




